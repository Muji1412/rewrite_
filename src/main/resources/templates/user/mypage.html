<link rel="stylesheet" href="/css/user/mypage.css">
<th:block th:replace="~{/include/side :: def(~{::#wrap})}">


    <section id="wrap">
      <!-- ìƒë‹¨ë‹¨ -->
      <h1 style="font-size: 30px; margin: 30px 0 10px 10px;">[[${nickname}]]ë‹˜ ì•ˆë…•í•˜ì„¸ìš”</h1>
      <div class="profile-section">
        <div class="profile-left">
            <img class="profile-img" th:src="${user.imgUrl}" alt="">
        </div>
        <div class="profile-info">
          <div class="level">LV.5 ê³ ëª©ë‚˜ë¬´</div>
          <div class="tree-icon">ğŸŒ³</div>
          <div>ë§¤ë„ˆë“±ê¸‰</div>
          <div class="manners-bar">
            <div class="progress"></div>
          </div>
          <div class="manners-labels">
            <span>LV.5</span>
            <span>LV.6</span>
          </div>
        </div>
        <div class="stat-item">
          <div class="label">êµ¬ë§¤ìˆ˜</div>
          <div class="value">1</div>
        </div>
        <div class="stat-item">
          <div class="label">íŒë§¤ìˆ˜</div>
          <div class="value">[[${sellcount}]]</div>
        </div>
        <div class="stat-item">
          <div class="label">ë¦¬ë·°</div>
          <div class="value">12</div>
        </div>
      </div>

      <!-- ì¤‘ê°„ -->
      <div>
        <h2>ìµœê·¼ ì£¼ë¬¸ ë‚´ì—­</h2>
        <div style="display: flex; gap: 20px;">
          <a href="addressdetail.html" class="latest-order">
            <div class="latest-order">
              <img src="/img/user/58dc48bc0431c3afc99be751bce99ac4c89237f380bc34b0d30b8adfbb92cc89_0.webp" alt=""
                class="main-img">
              <div class="title">ìŠ¤íƒ€ë²…ìŠ¤ ë¸”ë£¨íˆ¬ìŠ¤ ëœí„´ ìº í•‘ì¡°ëª…</div>
              <h4>20,000ì›</h4>
              <div class="address">ì„œì´ˆë™ ëŒì˜¬ 3ì‹œê°„ì „ì „</div>
            </div>
          </a>
          <a href="addressdetail.html" class="latest-order">
            <div class="latest-order">
              <img src="/img/user/58dc48bc0431c3afc99be751bce99ac4c89237f380bc34b0d30b8adfbb92cc89_0.webp" alt=""
                class="main-img">
              <div class="title">ìŠ¤íƒ€ë²…ìŠ¤ ë¸”ë£¨íˆ¬ìŠ¤ ëœí„´ ìº í•‘ì¡°ëª…</div>
              <h4>20,000ì›</h4>
              <div class="address">ì„œì´ˆë™ ëŒì˜¬ 3ì‹œê°„ì „ì „</div>
            </div>
          </a>
          <a href="addressdetail.html" class="latest-order">
            <div class="latest-order">
              <img src="/img/user/58dc48bc0431c3afc99be751bce99ac4c89237f380bc34b0d30b8adfbb92cc89_0.webp" alt=""
                class="main-img">
              <div class="title">ìŠ¤íƒ€ë²…ìŠ¤ ë¸”ë£¨íˆ¬ìŠ¤ ëœí„´ ìº í•‘ì¡°ëª…</div>
              <h4>20,000ì›</h4>
              <div class="address">ì„œì´ˆë™ ëŒì˜¬ 3ì‹œê°„ì „ì „</div>
            </div>
          </a>
          <a href="addressdetail.html" class="latest-order">
            <div class="latest-order">
              <img src="/img/user/58dc48bc0431c3afc99be751bce99ac4c89237f380bc34b0d30b8adfbb92cc89_0.webp" alt=""
                class="main-img">
              <div class="title">ìŠ¤íƒ€ë²…ìŠ¤ ë¸”ë£¨íˆ¬ìŠ¤ ëœí„´ ìº í•‘ì¡°ëª…</div>
              <h4>20,000ì›</h4>
              <div class="address">ì„œì´ˆë™ ëŒì˜¬ 3ì‹œê°„ì „ì „</div>
            </div>
          </a>
          <a href="/prod/orderList" class="next-btn">
            <img src="/img/user/Vector.png" alt="" style="width: 50px; height: 50px;">
          </a>
        </div>
      </div>

      <!-- í•˜ë‹¨ -->
      <div style="margin: 100px 0 100px 0;">
        <h2>ìµœê·¼ íŒë§¤ ë‚´ì—­</h2>
        <div style="display: flex; gap: 20px;">
          <div th:each="list : ${sellprod}">
            <a th:href="'/prod/prodDetail?prodId='+${list.prodId}" class="latest-order">
              <div class="latest-order">
                <div class="media-container">
                  <img th:src="${list.img1}" alt="" class="main-img">
                  <!-- ë¹„ë””ì˜¤ ìš”ì†Œ ì¶”ê°€ (ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê¹€) -->
                  <video class="product-video" th:if="${list.videoUrl != null}"
                         th:data-src="${list.videoUrl}" muted preload="none"></video>
                </div>
                <div class="title">[[${list.title}]]</div>
                <h4>[[${list.price}]]ì›</h4>
                <div class="address">ì„œì´ˆë™ ëŒì˜¬ 3ì‹œê°„ì „ì „</div>
              </div>
            </a>
          </div>
          <a href="/prod/myProdList" class="next-btn">
            <img src="/img/user/Vector.png" alt="" style="width: 50px; height: 50px;">
          </a>
        </div>
      </div>



    </section>

</th:block>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // ëª¨ë“  ë¯¸ë””ì–´ ì»¨í…Œì´ë„ˆì— í˜¸ë²„ ì´ë²¤íŠ¸ ì„¤ì •
    const containers = document.querySelectorAll('.media-container');

    containers.forEach(container => {
      const video = container.querySelector('.product-video');

      if(video && video.dataset.src) {
        // í˜¸ë²„ ì‹œ ë¹„ë””ì˜¤ ë¡œë“œ ë° ì¬ìƒ
        container.addEventListener('mouseenter', function() {
          if(!video.getAttribute('src')) {
            video.setAttribute('src', video.dataset.src);
          }
          video.play();
        });

        // í˜¸ë²„ í•´ì œ ì‹œ ë¹„ë””ì˜¤ ì •ì§€
        container.addEventListener('mouseleave', function() {
          video.pause();
          video.currentTime = 0;
        });
      }
    });
  });
</script>